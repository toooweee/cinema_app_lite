# Cinema App Lite

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–æ–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º NestJS (backend) –∏ React (frontend). –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ —è –Ω–∞–ø–∏—Å–∞–ª –¥–ª—è —Å–¥–∞—á–∏ —É—á–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–æ–ª–ª–µ–¥–∂–µ, –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç –∏ –¥–æ, —É—à–ª–æ 2 –¥–Ω—è, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∑–∞–∫–æ–º–∏—á–µ–Ω—ã –±—ã–ª–∏, —Å–æ —Å–≤–æ–µ–≥–æ –Ω–æ—É—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª –ø—Ä–æ–µ–∫—Ç. –î–æ–∫–µ—Ä –∫–æ–º–ø–æ–∑ –≤ –ø–∞–ø–∫–µ api –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –ø–æ–¥–Ω—è—Ç–∏—è –±–¥. –≠—Ç–æ–π –≤–µ—Ä—Å–∏–∏ (lite) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ –±—ã—Ç—å –≤–æ–æ–±—â–µ, —è —Ö–æ—Ç–µ–ª —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º REST API –ø–æ –≤—Å–µ–º best-practise, –∏, –∫–æ–Ω–µ—á–Ω–æ, –æ—Ç—Ç–æ—á–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –∫–ª–∏–µ–Ω—Ç–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ü–æ –∏—Ç–æ–≥—É –≤ API –º—ã –∏–º–µ–µ–º —á–∏—Å—Ç—ã–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–¥, –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–æ –ª–æ–≥–∏–∫–∏ –ø–æ—á—Ç–∏ –Ω–µ—Ç, –æ–¥–Ω–∏ –∫—Ä—É–¥—ã. –ö–ª–∏–µ–Ω—Ç –∂–µ –ø—Ä–∏–∫–æ–ª—å–Ω—ã–π —Ç–∞–∫–æ–π –≤—ã—à–µ–ª. –Ø –ø–ª–∞–Ω–∏—Ä—É—é –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Å–µ—Ä–∏—é `cinema_app`, –≤ –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥—Ö–æ–¥ –∫ –∫–æ–¥—É –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–ª—Å—è –±—ã. –°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑—É—è npm —Å–∫—Ä–∏–ø—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm start

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run stop
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

| –°–µ—Ä–≤–∏—Å        | URL                            | –û–ø–∏—Å–∞–Ω–∏–µ             |
| ------------- | ------------------------------ | -------------------- |
| Frontend      | http://localhost:5173          | React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ     |
| Backend API   | http://localhost:3000          | NestJS API           |
| API Docs      | http://localhost:3000/api/docs | Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| PostgreSQL    | localhost:5430                 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö          |

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:

- **Email:** admin@example.com
- **Password:** string

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
npm start              # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run stop           # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run dev            # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build          # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
npm run logs           # –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤
npm run status         # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
```

### –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
npm run docker:logs:api     # –õ–æ–≥–∏ API
npm run docker:logs:client  # –õ–æ–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞
npm run docker:logs:db      # –õ–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```

### Prisma Studio

```bash
npm run studio              # –ó–∞–ø—É—Å–∫ Prisma Studio
```

### Shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

```bash
npm run docker:shell:api    # Shell –≤ API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
npm run docker:shell:client # Shell –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
npm run docker:shell:db     # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
npm run docker:restart      # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run docker:clean        # –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (—É–¥–∞–ª–µ–Ω–∏–µ volumes)
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend

- **NestJS** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Node.js
- **Prisma** - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Swagger** - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Frontend

- **React** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Vite** - —Å–±–æ—Ä—â–∏–∫
- **React Router** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç

## üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞–º–∏ –∏ –∂–∞–Ω—Ä–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∑—ã–≤–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–∞–≤–∞—Ç–∞—Ä—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤)

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `env.example`:

```bash
cp .env.example .env
```

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `DATABASE_URL` - URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `JWT_SECRET` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤
- `JWT_REFRESH_SECRET` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è refresh —Ç–æ–∫–µ–Ω–æ–≤
- `PORT` - –ü–æ—Ä—Ç –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
npm run stop

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
git pull

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
npm run start
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

```bash
# –í—Å–µ –ª–æ–≥–∏
npm run logs

# –õ–æ–≥–∏ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
docker-compose logs -f --timestamps
```

### Health checks

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl -f http://localhost:3000/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec postgres pg_isready -U postgres
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
npm run logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
npm run docker:logs:api
npm run docker:logs:client
npm run docker:logs:db
```

### –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ß–µ—Ä–µ–∑ Prisma Studio
npm run studio

# –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
npm run docker:shell:db
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
npm run docker:restart
```

### Shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

```bash
# API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
npm run docker:shell:api

# Client –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
npm run docker:shell:client
```
